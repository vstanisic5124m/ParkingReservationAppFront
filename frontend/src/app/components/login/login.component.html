<div class="login-container">
    <article class="login-card">
        <header class="login-header">
            <div class="icon-wrapper">
                <svg class="lock-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
            </div>
            <h1 class="login-title">Parking Reservation</h1>
            <p class="login-subtitle">Sign in to your account</p>
        </header>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>
            <div class="form-group">
                <label for="email" class="form-label">Email Address</label>
                <input
                        type="email"
                        formControlName="email"
                        class="form-control"
                        id="email"
                        autocomplete="email"
                        placeholder="Enter your email"
                        aria-describedby="email-error"
                        [class.is-invalid]="submitted && f['email'].errors"
                        [attr.aria-invalid]="submitted && f['email'].errors ? 'true' : null"
                />
                <div *ngIf="submitted && f['email'].errors" class="invalid-feedback" id="email-error" role="alert">
                    <div *ngIf="f['email'].errors['required']">Email is required</div>
                    <div *ngIf="f['email'].errors['email']">Email must be a valid email address</div>
                </div>
            </div>

            <div class="form-group">
                <label for="password" class="form-label">Password</label>
                <input
                        type="password"
                        formControlName="password"
                        class="form-control"
                        id="password"
                        autocomplete="current-password"
                        placeholder="Enter your password"
                        aria-describedby="password-error"
                        [class.is-invalid]="submitted && f['password'].errors"
                        [attr.aria-invalid]="submitted && f['password'].errors ? 'true' : null"
                />
                <div *ngIf="submitted && f['password'].errors" class="invalid-feedback" id="password-error" role="alert">
                    <div *ngIf="f['password'].errors['required']">Password is required</div>
                </div>
            </div>

            <div *ngIf="error" class="alert alert-danger" role="alert">
                {{ error }}
            </div>

            <button type="submit" [disabled]="loading" class="btn btn-primary" [attr.aria-busy]="loading">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1" role="status" aria-label="Loading"></span>
                <span *ngIf="!loading">Sign In</span>
                <span *ngIf="loading">Signing in...</span>
            </button>

            <footer class="card-footer">
                <p class="register-link">
                    Don't have an account? <a routerLink="/register" class="register-link-anchor">Create account</a>
                </p>
            </footer>
        </form>
    </article>
</div>